<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<!-- <link rel="import" href="../bower_components/paper-dialog/paper-dialog.html"> -->
<!-- <link rel="import" href="tabletninjas-login.html"> -->
<link rel="import" href="shared-styles.html">

<dom-module id="tabletninjas-home">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
      #tabletninjas-background{ 
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('../images/homeTablet.jpeg') center;
        background-size: cover;
        color: white;
      }
      #tablet-ninjas-title{
        display: flex;
        align-items: center;
        justify-content: center;
        font: Helvetica;
        font-size: 8vw;
        color: white;
        position: absolute;
        top: -5%;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
      }
      #action-items{
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        top:20%;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
      }
      #login-button{
        position: fixed;
        top: 3vw;
        right: 5vw;
        margin-top: 20px;
      }
      paper-button.maroon{
        background-color: maroon;
      }
      paper-button.white{
        border-color: white;
        border-style: solid;
        border-width: 2px;
      }
      a{
        color: inherit;
        text-decoration: none;
      }
      .hide {
        display: none;
      }
    </style>
    <div id="tabletninjas-background">
      <h1 id ="tablet-ninjas-title">Tablet Ninjas</h1>
      <div id = "action-items">
        <a href="/about"><paper-button class="maroon">Tell Me About It</paper-button></a>
        <a href="/signup"><paper-button id="create-account" class="maroon">Create Account</paper-button></a>
        <a href="/tag"><paper-button class="maroon" id="to-tablet">Go to Tablet</paper-button></a>
      </div>
      <div id ="login-button">
        <a href="/login"><paper-button class="white" id="paper-login">Login</paper-button></a>
        <paper-button on-tap="logOutUser" class="white hide" id="paper-logout">Logout</paper-button>
      </div>
    </div>
  </template>

  <script type="text/javascript" src="../bower_components/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="../bower_components/jquery-ui/jquery-ui.js"></script>

  <script>
    Polymer({
      is: 'tabletninjas-home',
      properties: {
      },
      ready: function() {
        firebase.auth().onAuthStateChanged(function(user) {
          if (user) {
            console.log("Logged in!");

            // If user is logged in, change "Login" to "Logout" and "Create Account" to "Go to Tablet"
            var logout = Polymer.dom(this.root).querySelector('#paper-logout');
            $(logout).removeClass('hide');
            var login = Polymer.dom(this.root).querySelector('#paper-login');
            $(login).addClass('hide');

            var tablet = Polymer.dom(this.root).querySelector('#to-tablet');
            $(tablet).removeClass('hide');
            var account = Polymer.dom(this.root).querySelector('#create-account');
            $(account).removeClass('hide');

            console.log(logout);
          }
        });
      },
      logOutUser: function(){
        firebase.auth().signOut().then(function() {
          window.location = '/'
        }, function(error) {
          alert(error)
        });
      }
    });
  </script>
</dom-module>
